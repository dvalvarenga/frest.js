<html>

<head>
    <script src="src/frest.js"></script>
    <script>
        function getAll() {
            let urls = document.getElementById('allUrls').textContent;
            urls = urls.split(',');
            console.log(urls);
            let result = frest.getAll(urls);
            result.then(response => {
                console.log('frest response...');
                console.log(response);
                let getAllResult = document.getElementById('getAllResult');
                getAllResult.textContent = JSON.stringify(response, null, 4);
            });
        }
        function start() {
            var urls = ['https://jsonplaceholder.typicode.com/posts/1',
                'https://jsonplaceholder.typicode.com/posts/2',
                'https://jsonplaceholder.typicode.com/posts/3'];
            var result = frest.getAll(urls);
            result.then(response => {
                console.log('frest response...');
                console.log(response);
            });
            // let waterfall_result = frest_waterfall(urls);
            // waterfall_result.then(response => {
            //     console.log('frest_waterfall response...');
            //     console.log(response);
            // });
            // var data = [
            //     {
            //         url: 'https://jsonplaceholder.typicode.com/posts/1'
            //     },
            //     {
            //         url: 'https://jsonplaceholder.typicode.com/comments?postId={param}',
            //         param: 'id'
            //     }];
            // var smart_result = frest_smart(data);
            // smart_result.then(response => {
            //     console.log('smart_result response...');
            //     console.log(response);
            // });
        }
    </script>
</head>

<body>
    <h1>Facade REST Library</h1>

    <div>
        <h3>
            <code>getAll()</code> Example:</h3>
        <textarea name="allUrls" id="allUrls" cols="100" rows="5">https://jsonplaceholder.typicode.com/posts/1,
https://jsonplaceholder.typicode.com/posts/2,
https://jsonplaceholder.typicode.com/posts/3
        </textarea>
        <div>
            <button id="btnGetAll" onclick="getAll()">Get All</button>
        </div>
        <div>
            <textarea name="getAllResult" id="getAllResult" cols="100" rows="10"></textarea>
        </div>
    </div>
</body>

</html>