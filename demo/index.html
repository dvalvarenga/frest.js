<html>

<head>
    <script src="src/frest.js"></script>
    <script>


        function getAll() {
            let urls = ['https://jsonplaceholder.typicode.com/posts/1',
                'https://jsonplaceholder.typicode.com/posts/2',
                'https://jsonplaceholder.typicode.com/posts/3']
            let result = frest.getAll(urls);
            result.then(response => {
                console.log('frest response...');
                console.log(JSON.stringify(response, null, 4));
            });
        }

        function postAll() {
            let putRequestData = [
                {
                    url: 'https://jsonplaceholder.typicode.com/posts',
                    data: {
                        "userId": 1,
                        "id": 1,
                        "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
                        "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
                    }
                },
                {
                    url: 'https://jsonplaceholder.typicode.com/posts',
                    data: {
                        "userId": 2,
                        "id": 2,
                        "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
                        "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
                    }
                },
            ];

            let result = frest.postAll(putRequestData);
            result.then(response => {
                console.log('postAll response...');
                console.log(JSON.stringify(response, null, 4));
            });
        }

        function putAll() {
            let putRequestData = [
                {
                    url: 'https://jsonplaceholder.typicode.com/posts/1',
                    data: {
                        "userId": 1,
                        "id": 1,
                        "title": "updated-sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
                        "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
                    }
                },
                {
                    url: 'https://jsonplaceholder.typicode.com/posts/2',
                    data: {
                        "userId": 2,
                        "id": 2,
                        "title": "updated-sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
                        "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
                    }
                },
            ];

            let result = frest.putAll(putRequestData);
            result.then(response => {
                console.log('putAlll response...');
                console.log(JSON.stringify(response, null, 4));
            });
        }

        function deleteAll() {
            let urls = ['https://jsonplaceholder.typicode.com/posts/1',
                'https://jsonplaceholder.typicode.com/posts/2',
                'https://jsonplaceholder.typicode.com/posts/3']
            let result = frest.deleteAll(urls);
            result.then(response => {
                console.log('deleteAll response...');
                console.log(JSON.stringify(response, null, 4));
            });
        }

        function start() {
            var urls = ['https://jsonplaceholder.typicode.com/posts/1',
                'https://jsonplaceholder.typicode.com/posts/2',
                'https://jsonplaceholder.typicode.com/posts/3'];
            var result = frest.getAll(urls);
            result.then(response => {
                console.log('frest response...');
                console.log(response);
            });
            // let waterfall_result = frest_waterfall(urls);
            // waterfall_result.then(response => {
            //     console.log('frest_waterfall response...');
            //     console.log(response);
            // });
            // var data = [
            //     {
            //         url: 'https://jsonplaceholder.typicode.com/posts/1'
            //     },
            //     {
            //         url: 'https://jsonplaceholder.typicode.com/comments?postId={param}',
            //         param: 'id'
            //     }];
            // var smart_result = frest_smart(data);
            // smart_result.then(response => {
            //     console.log('smart_result response...');
            //     console.log(response);
            // });
        }
    </script>
</head>

<body>
    <h1>Facade REST Library</h1>
    <div>
        <button onclick="getAll()">getAll()</button>
    </div>

    <div>
        <button onclick="postAll()">postAll()</button>
    </div>

    <div>
        <button onclick="putAll()">putAll()</button>
    </div>

    <div>
        <button onclick="deleteAll()">deleteAll()</button>
    </div>
</body>

</html>