<html>

<head>
    <script src="../dist/frest.js"></script>
    <script>


        function getAll() {
            let urls = ['https://jsonplaceholder.typicode.com/posts/1',
                'https://jsonplaceholder.typicode.com/posts/2',
                'https://jsonplaceholder.typicode.com/posts/3']
            let result = frest.getAll(urls);
            result.then(response => {
                console.log('frest response...');
                console.log(JSON.stringify(response, null, 4));
            });
        }

        function postAll() {
            let putRequestData = [
                {
                    url: 'https://jsonplaceholder.typicode.com/posts',
                    data: {
                        "userId": 1,
                        "id": 1,
                        "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
                        "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
                    }
                },
                {
                    url: 'https://jsonplaceholder.typicode.com/posts',
                    data: {
                        "userId": 2,
                        "id": 2,
                        "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
                        "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
                    }
                },
            ];

            let result = frest.postAll(putRequestData);
            result.then(response => {
                console.log('postAll response...');
                console.log(JSON.stringify(response, null, 4));
            });
        }

        function putAll() {
            let putRequestData = [
                {
                    url: 'https://jsonplaceholder.typicode.com/posts/1',
                    data: {
                        "userId": 1,
                        "id": 1,
                        "title": "updated-sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
                        "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
                    }
                },
                {
                    url: 'https://jsonplaceholder.typicode.com/posts/2',
                    data: {
                        "userId": 2,
                        "id": 2,
                        "title": "updated-sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
                        "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
                    }
                },
            ];

            let result = frest.putAll(putRequestData);
            result.then(response => {
                console.log('putAlll response...');
                console.log(JSON.stringify(response, null, 4));
            });
        }

        function deleteAll() {
            let urls = ['https://jsonplaceholder.typicode.com/posts/1',
                'https://jsonplaceholder.typicode.com/posts/2',
                'https://jsonplaceholder.typicode.com/posts/3']
            let result = frest.deleteAll(urls);
            result.then(response => {
                console.log('deleteAll response...');
                console.log(JSON.stringify(response, null, 4));
            });
        }

        function waterfall() {
            let urls = ['https://jsonplaceholder.typicode.com/posts/1',
                'https://jsonplaceholder.typicode.com/posts/2',
                'https://jsonplaceholder.typicode.com/posts/3']
            let result = frest.waterfall(urls);
            result.then(response => {
                console.log('waterfall response...');
                console.log(JSON.stringify(response, null, 4));
            });
        }

        function casecaded() {
            var requests = [
                {
                    url: 'https://jsonplaceholder.typicode.com/posts/1'
                },
                {
                    url: 'https://jsonplaceholder.typicode.com/comments?postId={param}',
                    param: 'id'
                }];
            let result = frest.casecaded(requests);
            result.then(response => {
                console.log(JSON.stringify(response, null, 4));
            });
        }
    </script>
</head>

<body>
    <h1>Facade REST Library</h1>
    <div>
        <button onclick="getAll()">getAll()</button>
    </div>

    <div>
        <button onclick="postAll()">postAll()</button>
    </div>

    <div>
        <button onclick="putAll()">putAll()</button>
    </div>

    <div>
        <button onclick="deleteAll()">deleteAll()</button>
    </div>

    <div>
        <button onclick="waterfall()">waterfall()</button>
    </div>

    <div>
        <button onclick="casecaded()">casecaded()</button>
    </div>
</body>

</html>